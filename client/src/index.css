@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --font-mono: "JetBrains Mono", monospace;
  --font-sans: "Inter", sans-serif;

  --color-background: hsl(222 47% 11%); /* Deep Navy #0f172a */
  --color-foreground: hsl(210 40% 98%);

  --color-card: hsl(222 47% 13%);
  --color-card-foreground: hsl(210 40% 98%);

  --color-popover: hsl(222 47% 11%);
  --color-popover-foreground: hsl(210 40% 98%);

  --color-primary: hsl(190 90% 50%); /* Cyan Neon */
  --color-primary-foreground: hsl(222 47% 11%);

  --color-secondary: hsl(217 33% 17%);
  --color-secondary-foreground: hsl(210 40% 98%);

  --color-muted: hsl(217 33% 17%);
  --color-muted-foreground: hsl(215 20% 65%);

  --color-accent: hsl(190 90% 50%);
  --color-accent-foreground: hsl(222 47% 11%);

  --color-destructive: hsl(0 62% 30%);
  --color-destructive-foreground: hsl(210 40% 98%);

  --color-border: hsl(217 33% 20%);
  --color-input: hsl(217 33% 20%);
  --color-ring: hsl(190 90% 50%);

  --color-chart-1: hsl(190 90% 50%); /* Cyan */
  --color-chart-2: hsl(160 84% 39%); /* Emerald */
  --color-chart-3: hsl(30 90% 50%); /* Amber */
  --color-chart-4: hsl(280 70% 60%); /* Purple */
  --color-chart-5: hsl(340 75% 55%); /* Pink */

  --radius-sm: 0.25rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

/* Theme-driven background grid (MVP)
   Uses existing theme primitives and avoids introducing new design tokens. */
:root {
  --bg-grid-line: hsl(217 33% 17% / 0.35);

  /* Theme-driven page background (patterns/images via CSS gradients)
     Implemented with existing theme primitives. */
  --app-bg-base:
    radial-gradient(1200px circle at 20% 10%, rgba(6, 182, 212, 0.12) 0%, transparent 60%),
    radial-gradient(900px circle at 80% 0%, rgba(168, 85, 247, 0.10) 0%, transparent 58%),
    linear-gradient(180deg, var(--color-background), #000);

  /* Non-pattern themes should not force a grid/squares look site-wide.
     Pattern cosmetics (theme_pattern_*) can override this. */
  --app-bg-pattern: none;
  --app-bg-pattern-repeat: repeat;
  --app-bg-pattern-size: 140px 140px;
  --app-bg-pattern-position: center;
}

[data-cosmetic-theme="theme_neon"] {
  --bg-grid-line: hsl(190 90% 50% / 0.10);
  --app-bg-base:
    radial-gradient(1200px circle at 25% 10%, rgba(6, 182, 212, 0.18) 0%, transparent 60%),
    radial-gradient(900px circle at 85% 0%, rgba(99, 102, 241, 0.12) 0%, transparent 58%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

[data-cosmetic-theme="theme_ocean"] {
  --bg-grid-line: hsl(190 90% 50% / 0.07);
  --app-bg-base:
    radial-gradient(1200px circle at 20% 0%, rgba(14, 165, 233, 0.16) 0%, transparent 62%),
    radial-gradient(900px circle at 80% 10%, rgba(6, 182, 212, 0.10) 0%, transparent 60%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

[data-cosmetic-theme="theme_forest"] {
  --bg-grid-line: hsl(160 84% 39% / 0.08);
  --app-bg-base:
    radial-gradient(1200px circle at 22% 0%, rgba(16, 185, 129, 0.16) 0%, transparent 62%),
    radial-gradient(900px circle at 82% 10%, rgba(6, 182, 212, 0.06) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

[data-cosmetic-theme="theme_cyberpunk"] {
  --bg-grid-line: hsl(280 70% 60% / 0.08);
  --app-bg-base:
    radial-gradient(1200px circle at 25% 0%, rgba(168, 85, 247, 0.16) 0%, transparent 62%),
    radial-gradient(900px circle at 78% 8%, rgba(236, 72, 153, 0.10) 0%, transparent 60%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

[data-cosmetic-theme="theme_matrix"] {
  --bg-grid-line: hsl(160 84% 39% / 0.11);
  --app-bg-base:
    radial-gradient(1200px circle at 20% 0%, rgba(16, 185, 129, 0.18) 0%, transparent 60%),
    radial-gradient(900px circle at 82% 12%, rgba(34, 197, 94, 0.10) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

[data-cosmetic-theme="theme_vip_gold"] {
  --bg-grid-line: hsl(30 90% 50% / 0.12);
  --app-bg-base:
    radial-gradient(1200px circle at 22% 0%, rgba(245, 158, 11, 0.18) 0%, transparent 60%),
    radial-gradient(900px circle at 78% 10%, rgba(255, 255, 255, 0.06) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

[data-cosmetic-theme="theme_aurora"] {
  --bg-grid-line: hsl(340 75% 55% / 0.06);
  --app-bg-base:
    radial-gradient(1200px circle at 18% 0%, rgba(168, 85, 247, 0.14) 0%, transparent 62%),
    radial-gradient(1000px circle at 80% 0%, rgba(16, 185, 129, 0.10) 0%, transparent 62%),
    radial-gradient(900px circle at 50% 15%, rgba(236, 72, 153, 0.08) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

[data-cosmetic-theme="theme_sunset"] {
  --bg-grid-line: hsl(30 90% 50% / 0.07);
  --app-bg-base:
    radial-gradient(1200px circle at 20% 0%, rgba(245, 158, 11, 0.16) 0%, transparent 62%),
    radial-gradient(900px circle at 80% 10%, rgba(239, 68, 68, 0.08) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

[data-cosmetic-theme="theme_rose"] {
  --bg-grid-line: hsl(340 75% 55% / 0.09);
  --app-bg-base:
    radial-gradient(1200px circle at 22% 0%, rgba(236, 72, 153, 0.16) 0%, transparent 62%),
    radial-gradient(900px circle at 78% 10%, rgba(255, 255, 255, 0.06) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

[data-cosmetic-theme="theme_obsidian"] {
  --bg-grid-line: hsl(217 33% 17% / 0.22);
  --app-bg-base:
    radial-gradient(1200px circle at 20% 0%, rgba(148, 163, 184, 0.05) 0%, transparent 62%),
    radial-gradient(900px circle at 80% 10%, rgba(255, 255, 255, 0.03) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern: none;
}

/* Pattern/Image themes (rendered as layered CSS gradients) */
[data-cosmetic-theme="theme_pattern_scanlines"] {
  --bg-grid-line: hsl(217 33% 17% / 0.25);
  --app-bg-base:
    radial-gradient(1100px circle at 30% 10%, rgba(236, 72, 153, 0.12) 0%, transparent 64%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    repeating-linear-gradient(0deg, rgba(6, 182, 212, 0.06) 0px, rgba(6, 182, 212, 0.06) 1px, transparent 1px, transparent 7px);
}

[data-cosmetic-theme="theme_pattern_stars"] {
  --bg-grid-line: hsl(217 33% 17% / 0.20);
  --app-bg-base:
    radial-gradient(1200px circle at 70% 0%, rgba(168, 85, 247, 0.14) 0%, transparent 62%),
    radial-gradient(1000px circle at 15% 20%, rgba(6, 182, 212, 0.10) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    radial-gradient(circle at 12% 18%, rgba(255,255,255,0.10) 0 1px, transparent 2px),
    radial-gradient(circle at 74% 24%, rgba(255,255,255,0.09) 0 1px, transparent 2px),
    radial-gradient(circle at 36% 62%, rgba(255,255,255,0.10) 0 1px, transparent 2px),
    radial-gradient(circle at 86% 78%, rgba(255,255,255,0.09) 0 1px, transparent 2px);
}

[data-cosmetic-theme="theme_pattern_circuit"] {
  --bg-grid-line: hsl(190 90% 50% / 0.08);
  --app-bg-base:
    radial-gradient(1100px circle at 20% 0%, rgba(6, 182, 212, 0.16) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    repeating-linear-gradient(90deg, rgba(6, 182, 212, 0.07) 0 2px, transparent 2px 18px),
    repeating-linear-gradient(0deg, rgba(6, 182, 212, 0.06) 0 1px, transparent 1px 14px),
    radial-gradient(circle at 20% 40%, rgba(6, 182, 212, 0.08) 0 2px, transparent 3px),
    radial-gradient(circle at 80% 65%, rgba(168, 85, 247, 0.07) 0 2px, transparent 3px);
}

[data-cosmetic-theme="theme_pattern_dots"] {
  --bg-grid-line: hsl(217 33% 17% / 0.20);
  --app-bg-base:
    radial-gradient(1100px circle at 30% 0%, rgba(16, 185, 129, 0.12) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    radial-gradient(circle, rgba(6, 182, 212, 0.10) 1px, transparent 1.6px);
}

[data-cosmetic-theme="theme_pattern_hex"] {
  --bg-grid-line: hsl(217 33% 17% / 0.18);
  --app-bg-base:
    radial-gradient(1000px circle at 65% 0%, rgba(168, 85, 247, 0.12) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    repeating-linear-gradient(60deg, rgba(6, 182, 212, 0.05) 0 1px, transparent 1px 18px),
    repeating-linear-gradient(-60deg, rgba(6, 182, 212, 0.05) 0 1px, transparent 1px 18px);
}

[data-cosmetic-theme="theme_pattern_wave"] {
  --bg-grid-line: hsl(190 90% 50% / 0.07);
  --app-bg-base:
    radial-gradient(1200px circle at 50% 0%, rgba(6, 182, 212, 0.14) 0%, transparent 64%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    repeating-linear-gradient(90deg, rgba(6, 182, 212, 0.05) 0 2px, transparent 2px 26px),
    repeating-radial-gradient(circle at 10% 20%, rgba(6, 182, 212, 0.05) 0 1px, transparent 6px);
}

[data-cosmetic-theme="theme_pattern_diagonal"] {
  --bg-grid-line: hsl(217 33% 17% / 0.18);
  --app-bg-base:
    radial-gradient(1100px circle at 30% 0%, rgba(245, 158, 11, 0.12) 0%, transparent 64%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    repeating-linear-gradient(135deg, rgba(245, 158, 11, 0.06) 0 2px, transparent 2px 16px);
}

[data-cosmetic-theme="theme_pattern_blueprint"] {
  --bg-grid-line: hsl(190 90% 50% / 0.10);
  --app-bg-base:
    radial-gradient(1200px circle at 25% 0%, rgba(6, 182, 212, 0.16) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    repeating-linear-gradient(90deg, rgba(6, 182, 212, 0.06) 0 1px, transparent 1px 12px),
    repeating-linear-gradient(0deg, rgba(6, 182, 212, 0.06) 0 1px, transparent 1px 12px),
    repeating-linear-gradient(90deg, rgba(6, 182, 212, 0.04) 0 1px, transparent 1px 48px),
    repeating-linear-gradient(0deg, rgba(6, 182, 212, 0.04) 0 1px, transparent 1px 48px);
}

[data-cosmetic-theme="theme_pattern_plasma"] {
  --bg-grid-line: hsl(280 70% 60% / 0.08);
  --app-bg-base:
    radial-gradient(1200px circle at 20% 0%, rgba(168, 85, 247, 0.16) 0%, transparent 62%),
    radial-gradient(900px circle at 80% 10%, rgba(236, 72, 153, 0.12) 0%, transparent 64%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    repeating-linear-gradient(90deg, rgba(168, 85, 247, 0.05) 0 2px, transparent 2px 20px),
    repeating-linear-gradient(0deg, rgba(236, 72, 153, 0.04) 0 1px, transparent 1px 24px);
}

[data-cosmetic-theme="theme_pattern_vhs"] {
  --bg-grid-line: hsl(217 33% 17% / 0.18);
  --app-bg-base:
    radial-gradient(1000px circle at 20% 10%, rgba(236, 72, 153, 0.10) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    repeating-linear-gradient(0deg, rgba(255, 255, 255, 0.04) 0 1px, transparent 1px 7px),
    repeating-linear-gradient(90deg, rgba(168, 85, 247, 0.05) 0 1px, transparent 1px 90px);
}

[data-cosmetic-theme="theme_pattern_glass"] {
  --bg-grid-line: hsl(217 33% 17% / 0.16);
  --app-bg-base:
    radial-gradient(1200px circle at 20% 0%, rgba(6, 182, 212, 0.10) 0%, transparent 62%),
    radial-gradient(900px circle at 80% 0%, rgba(16, 185, 129, 0.08) 0%, transparent 64%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    linear-gradient(135deg, rgba(255, 255, 255, 0.04) 0%, transparent 55%),
    repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.03) 0 1px, transparent 1px 18px);
}

[data-cosmetic-theme="theme_pattern_terminal"] {
  --bg-grid-line: hsl(160 84% 39% / 0.10);
  --app-bg-base:
    radial-gradient(1100px circle at 22% 0%, rgba(16, 185, 129, 0.14) 0%, transparent 62%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    repeating-linear-gradient(0deg, rgba(16, 185, 129, 0.06) 0 1px, transparent 1px 14px),
    repeating-linear-gradient(90deg, rgba(16, 185, 129, 0.04) 0 1px, transparent 1px 46px);
}

[data-cosmetic-theme="theme_pattern_chess"] {
  --bg-grid-line: hsl(217 33% 17% / 0.20);
  --app-bg-base:
    radial-gradient(1000px circle at 80% 0%, rgba(245, 158, 11, 0.10) 0%, transparent 64%),
    linear-gradient(180deg, var(--color-background), #000);
  --app-bg-pattern:
    linear-gradient(90deg, rgba(148, 163, 184, 0.06) 25%, transparent 25% 50%, rgba(148, 163, 184, 0.06) 50% 75%, transparent 75%),
    linear-gradient(0deg, rgba(148, 163, 184, 0.06) 25%, transparent 25% 50%, rgba(148, 163, 184, 0.06) 50% 75%, transparent 75%);
}

.themed-bg {
  background-image: var(--app-bg-base), var(--app-bg-pattern);
  background-repeat: no-repeat, var(--app-bg-pattern-repeat);
  background-size: cover, var(--app-bg-pattern-size);
  background-position: center, var(--app-bg-pattern-position);
  opacity: 0.95;
}

.blueprint-grid {
  background-image: 
    linear-gradient(rgba(6, 182, 212, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(6, 182, 212, 0.05) 1px, transparent 1px);
  background-size: 20px 20px;
}

.glass-panel {
  @apply bg-card/60 backdrop-blur-md border border-white/10 shadow-xl;
}

.code-font {
  font-family: 'JetBrains Mono', monospace;
}

/* Custom Scrollbar for the blueprint feel */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: hsl(222 47% 11%);
}
::-webkit-scrollbar-thumb {
  background: hsl(217 33% 30%);
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: hsl(190 90% 50%);
}

/* Focus visible styles for keyboard users */
:focus-visible {
  outline: 3px solid rgba(6,182,212,0.18);
  outline-offset: 2px;
  border-radius: 6px;
}

button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
a:focus-visible {
  box-shadow: 0 0 0 4px rgba(6,182,212,0.06), 0 0 0 2px rgba(6,182,212,0.14);
}

@layer utilities {
  .avatar-frame-wrap {
    @apply relative inline-flex rounded-full p-1;
  }

  .avatar-halo {
    @apply absolute -inset-2 rounded-full pointer-events-none blur-md opacity-30;
    @apply bg-gradient-to-r from-yellow-400 via-amber-500 to-yellow-400;
  }

  .avatar-frame-ring {
    @apply absolute inset-0 rounded-full;
  }

  .avatar-frame-inner {
    @apply relative rounded-full bg-slate-900 flex items-center justify-center;
  }

  .avatar-frame--gold {
    @apply bg-gradient-to-br from-yellow-400 to-amber-500;
  }
  .avatar-frame--silver {
    @apply bg-gradient-to-br from-slate-300 to-slate-500;
  }
  .avatar-frame--rainbow {
    @apply bg-gradient-to-r from-pink-400 via-purple-400 to-cyan-400;
  }
  .avatar-frame--neon {
    @apply bg-gradient-to-br from-cyan-400 to-blue-500;
  }
  .avatar-frame--onyx {
    @apply bg-gradient-to-br from-slate-700 to-slate-950;
  }

  .avatar-frame--animated {
    @apply bg-gradient-to-r from-amber-400 via-purple-400 to-cyan-400;
    background-size: 200% 200%;
  }

  .frame-anim-rotate {
    animation: frameRotate 2.4s linear infinite;
    transform-origin: center;
  }
  .frame-anim-pulse {
    animation: framePulse 1.8s ease-in-out infinite;
  }
  .frame-anim-shimmer {
    animation: frameShimmer 2.2s ease-in-out infinite;
  }
  .frame-anim-glow {
    animation: frameGlow 2.4s ease-in-out infinite;
  }
  .frame-anim-wave {
    animation: frameWave 1.9s ease-in-out infinite;
  }
  .frame-anim-bounce {
    animation: frameBounce 1.4s ease-in-out infinite;
  }
  .frame-anim-wobble {
    animation: frameWobble 1.6s ease-in-out infinite;
  }
  .frame-anim-tilt {
    animation: frameTilt 2.0s ease-in-out infinite;
  }
  .frame-anim-zoom {
    animation: frameZoom 1.7s ease-in-out infinite;
  }
  .frame-anim-flicker {
    animation: frameFlicker 1.3s steps(2, end) infinite;
  }
}

@keyframes frameRotate {
  to { transform: rotate(360deg); }
}

@keyframes framePulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.07); }
}

@keyframes frameShimmer {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes frameGlow {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.25); }
}

@keyframes frameWave {
  0%, 100% { transform: rotate(0deg); }
  50% { transform: rotate(18deg); }
}

@keyframes frameBounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}

@keyframes frameWobble {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-2px); }
  75% { transform: translateX(2px); }
}

@keyframes frameTilt {
  0%, 100% { transform: rotate(-6deg); }
  50% { transform: rotate(6deg); }
}

@keyframes frameZoom {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.12); }
}

@keyframes frameFlicker {
  0% { filter: brightness(1); }
  50% { filter: brightness(1.35); }
  100% { filter: brightness(1); }
}

@media (prefers-reduced-motion: reduce) {
  .frame-anim-rotate,
  .frame-anim-pulse,
  .frame-anim-shimmer,
  .frame-anim-glow,
  .frame-anim-wave,
  .frame-anim-bounce,
  .frame-anim-wobble,
  .frame-anim-tilt,
  .frame-anim-zoom,
  .frame-anim-flicker {
    animation: none !important;
    transform: none !important;
    filter: none !important;
  }
}

/* Cosmetics: name effects + tab borders
   Implemented via CSS so it can apply across pages without new UI. */

:root {
  --tab-border-a: var(--color-primary);
  --tab-border-b: var(--color-chart-4);
  --tab-border-c: var(--color-chart-2);
}

[data-tab-border="tab_border_flame"] {
  --tab-border-a: var(--color-chart-3);
  --tab-border-b: var(--color-destructive);
  --tab-border-c: var(--color-chart-3);
}

[data-tab-border="tab_border_ice"] {
  --tab-border-a: var(--color-chart-1);
  --tab-border-b: var(--color-foreground);
  --tab-border-c: var(--color-chart-1);
}

[data-tab-border="tab_border_neon"] {
  --tab-border-a: var(--color-primary);
  --tab-border-b: var(--color-chart-4);
  --tab-border-c: var(--color-chart-5);
}

[data-tab-border="tab_border_aurora"] {
  --tab-border-a: var(--color-chart-4);
  --tab-border-b: var(--color-chart-2);
  --tab-border-c: var(--color-chart-5);
}

[data-tab-border="tab_border_rainbow"] {
  --tab-border-a: var(--color-chart-5);
  --tab-border-b: var(--color-chart-4);
  --tab-border-c: var(--color-primary);
}

[data-tab-border="tab_border_gold"] {
  --tab-border-a: var(--color-chart-3);
  --tab-border-b: var(--color-foreground);
  --tab-border-c: var(--color-chart-3);
}

[data-tab-border="tab_border_matrix"] {
  --tab-border-a: var(--color-chart-2);
  --tab-border-b: var(--color-foreground);
  --tab-border-c: var(--color-chart-2);
}

[data-tab-border="tab_border_glitch"] {
  --tab-border-a: var(--color-primary);
  --tab-border-b: var(--color-chart-4);
  --tab-border-c: var(--color-chart-5);
}

[data-tab-border="tab_border_sunset"] {
  --tab-border-a: var(--color-chart-3);
  --tab-border-b: var(--color-chart-5);
  --tab-border-c: var(--color-chart-3);
}

[data-tab-border="tab_border_rose"] {
  --tab-border-a: var(--color-chart-5);
  --tab-border-b: var(--color-foreground);
  --tab-border-c: var(--color-chart-5);
}

[data-tab-border="tab_border_ocean"] {
  --tab-border-a: var(--color-primary);
  --tab-border-b: var(--color-chart-1);
  --tab-border-c: var(--color-chart-2);
}

[data-tab-border="tab_border_forest"] {
  --tab-border-a: var(--color-chart-2);
  --tab-border-b: var(--color-primary);
  --tab-border-c: var(--color-chart-2);
}

[data-tab-border="tab_border_cyber"] {
  --tab-border-a: var(--color-chart-4);
  --tab-border-b: var(--color-chart-5);
  --tab-border-c: var(--color-primary);
}

[data-tab-border="tab_border_prism"] {
  --tab-border-a: var(--color-foreground);
  --tab-border-b: var(--color-primary);
  --tab-border-c: var(--color-chart-4);
}

[data-tab-border="tab_border_bolt"] {
  --tab-border-a: var(--color-foreground);
  --tab-border-b: var(--color-chart-3);
  --tab-border-c: var(--color-primary);
}

[data-tab-border="tab_border_plasma"] {
  --tab-border-a: var(--color-chart-4);
  --tab-border-b: var(--color-primary);
  --tab-border-c: var(--color-chart-5);
}

[data-tab-border="tab_border_void"] {
  --tab-border-a: var(--color-muted-foreground);
  --tab-border-b: var(--color-foreground);
  --tab-border-c: var(--color-muted-foreground);
}

[data-tab-border="tab_border_comet"] {
  --tab-border-a: var(--color-foreground);
  --tab-border-b: var(--color-primary);
  --tab-border-c: var(--color-chart-1);
}

[data-tab-border="tab_border_holo"] {
  --tab-border-a: var(--color-primary);
  --tab-border-b: var(--color-foreground);
  --tab-border-c: var(--color-chart-4);
}

.cosmetic-tab {
  position: relative;
}

.cosmetic-tab::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: 0.75rem;
  padding: 1px;
  background: linear-gradient(90deg, var(--tab-border-a), var(--tab-border-b), var(--tab-border-c));
  background-size: 200% 200%;
  opacity: 0;
  pointer-events: none;
  transition: opacity 160ms ease;
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
}

.cosmetic-tab[data-active="true"]::after {
  opacity: 1;
  animation: tabBorderShift 2.2s ease-in-out infinite;
}

[data-tab-border="tab_border_glitch"] .cosmetic-tab[data-active="true"]::after {
  animation: tabBorderShift 1.1s steps(2, end) infinite;
}

@keyframes tabBorderShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.cosmetic-name {
  display: inline-block;
}

/* Generic helpers for new name effects */
[data-name-effect^="name_effect_"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect^="name_effect_"] {
  -webkit-background-clip: text;
  background-clip: text;
}

/* Support both global (your account) and per-element (public/leaderboard) effects.
  IMPORTANT: global should NOT override per-element previews. */
[data-name-effect="name_effect_gold"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_gold"] {
  color: transparent;
  background-image: linear-gradient(90deg, rgba(255,255,255,0.85), var(--color-chart-3), rgba(255,255,255,0.75));
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  text-shadow: 0 0 14px rgba(255,193,7,0.16);
  animation: nameShimmer 2.6s ease-in-out infinite;
}

[data-name-effect="name_effect_rainbow"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_rainbow"] {
  color: transparent;
  background-image: linear-gradient(
    90deg,
    var(--color-chart-5),
    var(--color-chart-4),
    var(--color-primary),
    var(--color-chart-2),
    var(--color-chart-3),
    var(--color-chart-5)
  );
  background-size: 300% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  text-shadow: 0 0 16px rgba(6,182,212,0.10);
  animation: nameRainbow 2.0s linear infinite;
}

[data-name-effect="name_effect_flame"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_flame"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-chart-3), rgba(255,255,255,0.85), var(--color-destructive), var(--color-chart-3));
  background-size: 220% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  text-shadow: 0 0 12px rgba(255,140,0,0.12), 0 0 20px rgba(255,69,0,0.08);
  animation: nameFlame 1.35s ease-in-out infinite;
}

[data-name-effect="name_effect_ice"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_ice"] {
  color: transparent;
  background-image: linear-gradient(90deg, rgba(255,255,255,0.92), var(--color-primary), rgba(255,255,255,0.82));
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  text-shadow: 0 0 18px rgba(6,182,212,0.14);
  animation: nameShimmer 2.0s ease-in-out infinite;
}

[data-name-effect="name_effect_glitch"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_glitch"] {
  animation: nameGlitch 1.2s steps(2, end) infinite;
  text-shadow:
    1px 0 rgba(6,182,212,0.45),
    -1px 0 rgba(217,70,239,0.35);
}

[data-name-effect="name_effect_neon_pulse"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_neon_pulse"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-primary), rgba(255,255,255,0.85), var(--color-primary));
  background-size: 220% 100%;
  text-shadow: 0 0 18px rgba(6,182,212,0.14);
  animation: namePulse 1.6s ease-in-out infinite;
}

[data-name-effect="name_effect_aurora"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_aurora"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-chart-4), var(--color-chart-2), var(--color-chart-5), var(--color-primary));
  background-size: 240% 100%;
  text-shadow: 0 0 18px rgba(217,70,239,0.10);
  animation: nameShimmer 2.4s ease-in-out infinite;
}

[data-name-effect="name_effect_matrix"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_matrix"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-chart-2), rgba(255,255,255,0.80), var(--color-chart-2));
  background-size: 220% 100%;
  text-shadow: 0 0 16px rgba(16,185,129,0.10);
  animation: nameScan 1.45s ease-in-out infinite;
}

[data-name-effect="name_effect_vhs"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_vhs"] {
  animation: nameVhs 1.35s steps(2, end) infinite;
  text-shadow:
    1px 0 rgba(6,182,212,0.35),
    -1px 0 rgba(217,70,239,0.25);
}

[data-name-effect="name_effect_holo"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_holo"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-foreground), var(--color-primary), var(--color-chart-4), var(--color-foreground));
  background-size: 260% 100%;
  text-shadow: 0 0 16px rgba(6,182,212,0.10);
  animation: nameRainbow 2.4s linear infinite;
}

[data-name-effect="name_effect_comet"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_comet"] {
  color: transparent;
  background-image: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.90) 30%, var(--color-primary) 55%, transparent 80%);
  background-size: 260% 100%;
  text-shadow: 0 0 18px rgba(6,182,212,0.12);
  animation: nameComet 2.2s ease-in-out infinite;
}

[data-name-effect="name_effect_shadowfire"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_shadowfire"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-destructive), var(--color-chart-3), rgba(255,255,255,0.78));
  background-size: 220% 100%;
  text-shadow: 0 0 18px rgba(239,68,68,0.10), 0 0 28px rgba(245,158,11,0.06);
  animation: nameFlame 1.3s ease-in-out infinite;
}

[data-name-effect="name_effect_ember"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_ember"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-chart-3), rgba(255,255,255,0.86), var(--color-chart-3));
  background-size: 220% 100%;
  text-shadow: 0 0 14px rgba(245,158,11,0.12);
  animation: namePulse 1.9s ease-in-out infinite;
}

[data-name-effect="name_effect_frostbite"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_frostbite"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-foreground), var(--color-primary), var(--color-foreground));
  background-size: 240% 100%;
  text-shadow: 0 0 18px rgba(6,182,212,0.16);
  animation: nameShimmer 1.8s ease-in-out infinite;
}

[data-name-effect="name_effect_prism"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_prism"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-foreground), var(--color-chart-5), var(--color-chart-4), var(--color-primary), var(--color-foreground));
  background-size: 300% 100%;
  text-shadow: 0 0 16px rgba(255,255,255,0.06);
  animation: nameRainbow 2.1s linear infinite;
}

[data-name-effect="name_effect_spark"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_spark"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-foreground), var(--color-chart-3), var(--color-foreground));
  background-size: 220% 100%;
  text-shadow: 0 0 14px rgba(255,193,7,0.14);
  animation: nameComet 1.9s ease-in-out infinite;
}

[data-name-effect="name_effect_static"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_static"] {
  animation: nameStatic 0.55s steps(2, end) infinite;
  text-shadow:
    1px 0 rgba(255,255,255,0.18),
    -1px 0 rgba(255,255,255,0.12);
}

[data-name-effect="name_effect_outline"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_outline"] {
  color: var(--color-foreground);
  text-shadow:
    0 0 0 rgba(0,0,0,0),
    0 0 18px rgba(6,182,212,0.08);
}

[data-name-effect="name_effect_chromatic"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_chromatic"] {
  animation: nameChromatic 1.4s ease-in-out infinite;
}

[data-name-effect="name_effect_wave"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_wave"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-primary), var(--color-foreground), var(--color-primary));
  background-size: 240% 100%;
  text-shadow: 0 0 12px rgba(6,182,212,0.10);
  animation: nameWave 2.0s ease-in-out infinite;
}

[data-name-effect="name_effect_slicer"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_slicer"] {
  color: transparent;
  background-image: linear-gradient(90deg, transparent, var(--color-chart-4), transparent);
  background-size: 260% 100%;
  text-shadow: 0 0 16px rgba(217,70,239,0.10);
  animation: nameScan 1.1s ease-in-out infinite;
}

[data-name-effect="name_effect_pixel"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_pixel"] {
  animation: namePixel 1.0s steps(2, end) infinite;
  text-shadow: 0 0 14px rgba(255,255,255,0.06);
}

[data-name-effect="name_effect_terminal"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_terminal"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-chart-2), rgba(255,255,255,0.80), var(--color-chart-2));
  background-size: 220% 100%;
  text-shadow: 0 0 16px rgba(16,185,129,0.10);
  animation: nameShimmer 2.2s ease-in-out infinite;
}

[data-name-effect="name_effect_solar"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_solar"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-chart-3), rgba(255,255,255,0.92), var(--color-chart-3));
  background-size: 240% 100%;
  text-shadow: 0 0 18px rgba(245,158,11,0.12);
  animation: nameShimmer 1.9s ease-in-out infinite;
}

[data-name-effect="name_effect_moonlight"] .cosmetic-name:not([data-name-effect]),
.cosmetic-name[data-name-effect="name_effect_moonlight"] {
  color: transparent;
  background-image: linear-gradient(90deg, var(--color-foreground), var(--color-chart-4), var(--color-foreground));
  background-size: 240% 100%;
  text-shadow: 0 0 16px rgba(217,70,239,0.08);
  animation: nameShimmer 2.6s ease-in-out infinite;
}

@keyframes namePulse {
  0%, 100% { background-position: 0% 50%; filter: brightness(1); transform: translateY(0); }
  50% { background-position: 100% 50%; filter: brightness(1.25); transform: translateY(-1px); }
}

@keyframes nameScan {
  0% { background-position: 0% 50%; filter: brightness(1); }
  50% { background-position: 100% 50%; filter: brightness(1.18); }
  100% { background-position: 0% 50%; filter: brightness(1); }
}

@keyframes nameComet {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes nameWave {
  0% { background-position: 0% 50%; transform: translateY(0); }
  50% { background-position: 100% 50%; transform: translateY(-1px); }
  100% { background-position: 0% 50%; transform: translateY(0); }
}

@keyframes nameChromatic {
  0%, 100% {
    text-shadow:
      1px 0 rgba(6,182,212,0.28),
      -1px 0 rgba(217,70,239,0.20);
    transform: translate(0, 0);
  }
  50% {
    text-shadow:
      2px 0 rgba(6,182,212,0.32),
      -2px 0 rgba(217,70,239,0.24);
    transform: translate(0, -1px);
  }
}

@keyframes nameStatic {
  0% { opacity: 1; transform: translate(0, 0); }
  50% { opacity: 0.92; transform: translate(1px, 0); }
  100% { opacity: 1; transform: translate(0, 0); }
}

@keyframes nameVhs {
  0% { transform: translate(0, 0); }
  25% { transform: translate(1px, 0); }
  50% { transform: translate(-1px, 0); }
  75% { transform: translate(1px, 0); }
  100% { transform: translate(0, 0); }
}

@keyframes namePixel {
  0% { transform: translate(0, 0) scale(1); }
  50% { transform: translate(0, -1px) scale(1.01); }
  100% { transform: translate(0, 0) scale(1); }
}

@keyframes nameShimmer {
  0% { background-position: 0% 50%; filter: brightness(1); }
  50% { background-position: 100% 50%; filter: brightness(1.15); }
  100% { background-position: 0% 50%; filter: brightness(1); }
}

@keyframes nameRainbow {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}

@keyframes nameFlame {
  0% { background-position: 0% 50%; transform: translateY(0); filter: brightness(1); }
  50% { background-position: 100% 50%; transform: translateY(-1px); filter: brightness(1.22); }
  100% { background-position: 0% 50%; transform: translateY(0); filter: brightness(1); }
}

@keyframes nameGlitch {
  0% { transform: translate(0, 0) skewX(0deg); }
  20% { transform: translate(1px, 0) skewX(-2deg); }
  40% { transform: translate(-1px, 0) skewX(2deg); }
  60% { transform: translate(1px, 0) skewX(-1deg); }
  80% { transform: translate(-1px, 0) skewX(1deg); }
  100% { transform: translate(0, 0) skewX(0deg); }
}

@media (prefers-reduced-motion: reduce) {
  .cosmetic-tab[data-active="true"]::after,
  [data-name-effect] .cosmetic-name:not([data-name-effect]),
  .cosmetic-name[data-name-effect] {
    animation: none !important;
    transform: none !important;
    filter: none !important;
  }
}
