import{c as $,u as P,a as R,r as m,j as e,C as c,L as E,B as f,g as F,S as h,G as j,A as W,t as N,l as q,Z as B,m as G}from"./index-DKbfUBq8.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U=$("triangle-alert",T);function M(){const{user:y}=P(),[,w]=R(),d=y?.isPro||!1,[o,v]=m.useState(()=>{try{return parseInt(localStorage.getItem("ai-inspector-usage")||"0",10)}catch{return 0}}),[r,I]=m.useState(`def factorial(n):
    result = 1
    for i in range(1, n + 1):
        result = result * i
    return result

print(factorial(5))`),[a,C]=m.useState([]),[g,b]=m.useState(!1),[u,k]=m.useState([]),A=()=>{if(!d&&o>=1){N({title:"Pro Required",description:"AI Inspector Limit",variant:"destructive"});return}b(!0),setTimeout(()=>{const s=[];r.includes("for")&&r.includes("range")&&s.push({type:"optimization",message:"Consider using list comprehension for more Pythonic code",line:3}),r.includes("result = result")&&s.push({type:"suggestion",message:"You can use the compound assignment operator (result *= i)",line:4}),r.match(/factorial|fibonacci|prime/i)&&s.push({type:"explanation",message:"Recursive algorithm may cause stack overflow for large inputs. Consider using memoization or an iterative solution."}),r.includes("print(")&&s.push({type:"suggestion",message:"For professional logging, consider using the logging module instead of print()"}),(r.includes("def ")||r.includes("class "))&&!r.includes('"""')&&s.push({type:"warning",message:"Function without docstring. Add documentation for better maintainability.",line:1});const t=[],L=r.split(`
`);let n=0;t.push({id:`node-${n++}`,type:"start",label:"Start",children:[]}),L.forEach((i,p)=>{const l=i.trim();if(l.startsWith("def ")){const x=l.match(/def\s+(\w+)/);x&&t.push({id:`node-${n++}`,type:"function",label:`function ${x[1]}()`,line:p+1,children:[]})}else if(l.startsWith("if "))t.push({id:`node-${n++}`,type:"if",label:l.slice(0,30)+"...",line:p+1,children:[]});else if(l.startsWith("for ")||l.startsWith("while "))t.push({id:`node-${n++}`,type:"loop",label:l.slice(0,30)+"...",line:p+1,children:[]});else if(l.startsWith("return "))t.push({id:`node-${n++}`,type:"return",label:l.slice(0,30)+"...",line:p+1,children:[]});else if(l.includes("(")&&!l.startsWith("#")){const x=l.match(/(\w+)\s*\(/);x&&t.push({id:`node-${n++}`,type:"call",label:`${x[1]}()`,line:p+1,children:[]})}}),t.push({id:`node-${n++}`,type:"end",label:"End",children:[]});for(let i=0;i<t.length-1;i++)t[i].children.push(t[i+1].id);if(k(t),C(s),b(!1),!d){const i=o+1;v(i),localStorage.setItem("ai-inspector-usage",i.toString())}s.length===0&&N({title:"Analysis Complete",description:"No Suggestions"})},1500)},z=s=>{switch(s){case"suggestion":return e.jsx(G,{className:"w-4 h-4 text-blue-400"});case"warning":return e.jsx(U,{className:"w-4 h-4 text-yellow-400"});case"optimization":return e.jsx(B,{className:"w-4 h-4 text-amber-400"});case"explanation":return e.jsx(q,{className:"w-4 h-4 text-purple-400"})}},S=s=>{switch(s){case"suggestion":return"bg-blue-500/10 border-blue-400/30 text-blue-100";case"warning":return"bg-yellow-500/10 border-yellow-400/30 text-yellow-100";case"optimization":return"bg-amber-500/10 border-amber-400/30 text-amber-100";case"explanation":return"bg-purple-500/10 border-purple-400/30 text-purple-100"}};return e.jsxs("div",{className:"w-full max-w-6xl mx-auto p-6 space-y-6 bg-gradient-to-br from-slate-950 via-purple-950/20 to-slate-900 rounded-3xl border border-purple-400/20 shadow-2xl shadow-purple-500/10 relative",children:[!d&&o>=1&&e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md rounded-3xl z-10 flex items-center justify-center",children:e.jsxs(c,{className:"p-8 bg-gradient-to-br from-purple-900/90 to-slate-900/90 border-2 border-purple-400/50 shadow-2xl max-w-md text-center",children:[e.jsx(E,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Pro Required"}),e.jsx("p",{className:"text-purple-100/80 mb-6",children:"AI Inspector Limit Reached"}),e.jsxs(f,{className:"bg-gradient-to-r from-purple-400 to-purple-600 text-black font-semibold hover:from-purple-500 hover:to-purple-700",onClick:()=>w("/pro"),children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Upgrade to Pro"]}),e.jsxs("p",{className:"text-xs text-purple-200/60 mt-4",children:[o,"/1 ","Free Analyses Used"]})]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-500/15 border border-purple-400/40 text-purple-200 text-xs font-semibold w-fit",children:[e.jsx(h,{className:"w-4 h-4"})," ","AI Code Inspector"," - ","Intelligent Analysis",!d&&e.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-amber-500/20 text-amber-300 rounded",children:["(",1-o," ","Free Left",")"]})]}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"AI Code Inspector"}),e.jsx("p",{className:"text-sm text-purple-100/90",children:"Automatic analysis with optimization suggestions, warnings, and algorithm explanations."})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs(c,{className:"p-4 bg-gradient-to-b from-purple-900/30 to-slate-900 border border-purple-400/30 shadow-lg shadow-purple-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Your Code"}),e.jsxs(f,{size:"sm",className:"bg-gradient-to-r from-purple-400 to-purple-600 text-black",onClick:A,disabled:g||!d&&o>=1,children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),g?"Analyzing":"Analyze"]})]}),e.jsx("textarea",{value:r,onChange:s=>I(s.target.value),className:"w-full h-96 p-3 border rounded-lg font-mono text-sm bg-black/60 text-purple-50 border-purple-500/30 focus:outline-none focus:ring-2 focus:ring-purple-400/60",placeholder:"Paste Code Here"}),e.jsxs("div",{className:"mt-3 text-xs text-purple-200/70 space-y-1",children:[e.jsxs("p",{children:["ðŸ’¡ ","Inspector Features"]}),e.jsxs("ul",{className:"list-disc list-inside pl-2 space-y-0.5",children:[e.jsx("li",{children:"Optimization Suggestions"}),e.jsx("li",{children:"Potential Issue Warnings"}),e.jsx("li",{children:"Algorithm Explanations"}),e.jsx("li",{children:"Best Practices Tips"})]})]})]}),e.jsxs(c,{className:"p-4 bg-gradient-to-b from-slate-900 to-purple-950/20 border border-purple-400/30 shadow-lg shadow-purple-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"AI Insights"}),a.length>0&&e.jsxs("span",{className:"text-sm text-purple-200/80",children:[a.length," ",a.length===1?"insight":"insights"]})]}),e.jsx("div",{className:"space-y-3 max-h-[450px] overflow-y-auto",children:a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[e.jsx(h,{className:"w-16 h-16 text-purple-400/30 mb-4"}),e.jsx("p",{className:"text-purple-200/70 text-sm",children:'Click "Analyze" to receive AI insights about your code'})]}):a.map((s,t)=>e.jsx(c,{className:`p-4 border ${S(s.type)} transition-all hover:scale-[1.02]`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5",children:z(s.type)}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:s.type}),s.line&&e.jsxs("span",{className:"text-xs px-2 py-0.5 rounded bg-black/30 font-mono",children:["Line ",s.line]})]}),e.jsx("p",{className:"text-sm",children:s.message})]})]})},t))})]})]}),a.length>0&&e.jsx(c,{className:"p-4 bg-purple-500/10 border-purple-400/30",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-300",children:a.filter(s=>s.type==="suggestion").length}),e.jsx("div",{className:"text-xs text-blue-200/80",children:"Suggestions"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-300",children:a.filter(s=>s.type==="warning").length}),e.jsx("div",{className:"text-xs text-yellow-200/80",children:"Warnings"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-amber-300",children:a.filter(s=>s.type==="optimization").length}),e.jsx("div",{className:"text-xs text-amber-200/80",children:"Optimizations"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-300",children:a.filter(s=>s.type==="explanation").length}),e.jsx("div",{className:"text-xs text-purple-200/80",children:"Explanations"})]})]})}),u.length>0&&e.jsxs(c,{className:"p-6 bg-gradient-to-br from-purple-950/40 via-slate-900 to-purple-900/30 border border-purple-400/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(j,{className:"w-5 h-5 text-purple-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Control Flow"}),e.jsx("span",{className:"text-xs text-purple-200/70 ml-auto",children:"How the computer interprets this code"})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`px-4 py-2 rounded-lg border-2 text-sm font-semibold transition-all hover:scale-105 ${s.type==="start"?"bg-emerald-500/20 border-emerald-400/60 text-emerald-200":s.type==="function"?"bg-blue-500/20 border-blue-400/60 text-blue-200":s.type==="if"?"bg-amber-500/20 border-amber-400/60 text-amber-200":s.type==="loop"?"bg-purple-500/20 border-purple-400/60 text-purple-200":s.type==="return"?"bg-pink-500/20 border-pink-400/60 text-pink-200":s.type==="call"?"bg-cyan-500/20 border-cyan-400/60 text-cyan-200":"bg-red-500/20 border-red-400/60 text-red-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.type==="if"&&e.jsx(j,{className:"w-3 h-3"}),e.jsx("span",{children:s.label})]}),s.line&&e.jsxs("div",{className:"text-xs opacity-70 mt-0.5",children:["line ",s.line]})]}),t<u.length-1&&e.jsx(W,{className:"w-5 h-5 text-purple-300"})]},s.id))}),e.jsxs("div",{className:"mt-4 p-3 bg-black/20 border border-purple-400/20 rounded text-xs text-purple-100 space-y-1",children:[e.jsx("div",{className:"font-semibold mb-2",children:"ðŸ§  How it works:"}),e.jsxs("ul",{className:"space-y-1 text-purple-200/80",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("span",{className:"text-emerald-300",children:"Start"}),": Program starts here"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("span",{className:"text-blue-300",children:"Function"}),": Defines a reusable block of code"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("span",{className:"text-amber-300",children:"If"}),": Conditional decision (true/false)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("span",{className:"text-purple-300",children:"Loop"}),": Repetition (for/while)"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("span",{className:"text-cyan-300",children:"Call"}),": Calls an external function or method"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("span",{className:"text-pink-300",children:"Return"}),": Returns a value and exits the function"]}),e.jsxs("li",{children:["â€¢ ",e.jsx("span",{className:"text-red-300",children:"End"}),": Execution ends"]})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-purple-400/20 text-purple-200",children:"The interpreter follows this flow top to bottom, executing each statement sequentially and jumping/repeating according to conditions and loops."})]})]})]})}export{M as AICodeInspector};
